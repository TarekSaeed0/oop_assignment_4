<div class="fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-opacity">
  
  <div class="bg-white w-full max-w-sm rounded-2xl shadow-2xl p-6 transform transition-all scale-100 border border-gray-100">
    
    <h2 class="text-xl font-bold text-gray-800 mb-1">New Folder</h2>
    <p class="text-sm text-gray-500 mb-6">Enter a name for your new folder.</p>

    <div class="relative mb-6">
      <input 
        type="text" 
        [(ngModel)]="folderName" 
        (keyup.enter)="tryCreateFolder()"
        placeholder="Folder Name"
        class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-800 placeholder-gray-400 focus:bg-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all"
        [class.ring-2]="errorMessage"
        [class.ring-red-500]="errorMessage"
        [class.bg-red-50]="errorMessage"
      />
      
      @if (errorMessage) {
        <div class="absolute -bottom-6 left-1 flex items-center gap-1 text-red-500 text-xs font-medium animate-pulse">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-3.5">
            <path fill-rule="evenodd" d="M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-8-5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5A.75.75 0 0 1 10 5Zm0 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd" />
          </svg>
          {{ errorMessage }}
        </div>
      }
    </div>

    <div class="flex items-center justify-end gap-3 mt-2">
      <button 
        (click)="close.emit()" 
        class="px-5 py-2.5 rounded-xl text-sm font-semibold text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors"
      >
        Cancel
      </button>
      
      <button 
        (click)="tryCreateFolder()" 
        [disabled]="isLoading || !folderName.trim()"
        class="px-6 py-2.5 rounded-xl text-sm font-bold text-white bg-green-500 hover:bg-green-600 active:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg transition-all flex items-center gap-2"
      >
        @if (isLoading) {
          <svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
        } @else {
          Create
        }
      </button>
    </div>
    
  </div>
</div>